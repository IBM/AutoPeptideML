pipeline:
  name: main_pipe
  aggregate: True
  elements:
    - pipe1:
        name: pipe1
        aggregate: False
        elements:
          - filter-smiles:
    - pipe2:
        name: pipe2
        aggregate: False
        elements:
          - filter-smiles:
              keep_smiles: False
          - canonical-cleaner:
              substitution: G 
          - sequence-to-smiles:

representation:
  elements:
    - chemberta-2:
        engine: LM
        model: chemberta-2
        device: mps
        batch_size: 64
        average_pooling: True
    - ecfp:
        engine: fp
        fp: ecfp
        nbits: 2048
        radius: 8

train:
  optim_strategy:
    trainer: grid
    direction: maximize
    task: class
    metric: mcc

  hspace:
    models:
      type: fixed
      elements:
        rf:
          - n_estimators:
              type: int
              min: 10
              max: 100
              log: true
              steps: 10
          - max_features:
              type: categorical
              values: 
                - log2
                - sqrt
        svm:
          - C:
              type: float
              min: 0.000001
              max: 0.1
              log: true
              steps: 5
          - probability:
              type: fixed
              value: true

    representations:
        - chemberta-2
        - ecfp
